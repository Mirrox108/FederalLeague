// В account.html обновляем функцию загрузки данных
document.addEventListener('DOMContentLoaded', function() {
    const userData = localStorage.getItem('currentUser');
    
    if (!userData) {
        window.location.href = 'login.html';
        return;
    }
    
    try {
        const user = JSON.parse(userData);
        
        // Заполняем данные пользователя
        document.getElementById('username').textContent = user.username;
        document.getElementById('player-nickname').textContent = user.username;
        document.getElementById('registration-date').textContent = user.registrationDate ? new Date(user.registrationDate).toLocaleDateString('ru-RU') : 'Не указана';
        document.getElementById('ip-address').textContent = user.ip || 'Неизвестен';
        document.getElementById('last-login').textContent = user.lastLogin ? new Date(user.lastLogin).toLocaleDateString('ru-RU') : 'Сейчас';
        
        // Заполняем дополнительные данные
        document.getElementById('balance').textContent = user.balance ? user.balance + ' ₽' : '0 ₽';
        document.getElementById('playtime').textContent = user.playtime || '0 ч';
        document.getElementById('level').textContent = user.level || '1';
        document.getElementById('premium-status').textContent = user.premium ? 'Активен' : 'Неактивен';
        document.getElementById('account-status').textContent = user.role ? user.role : 'Игрок';
        
    } catch (e) {
        console.error('Ошибка загрузки данных пользователя:', e);
        window.location.href = 'login.html';
    }
});
